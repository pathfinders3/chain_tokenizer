<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Douglas-Peucker ì•Œê³ ë¦¬ì¦˜ ì‹œê°í™”</title>
    <link rel="icon" type="image/png" href="block3.png">

    <!-- ê°™ì€ ì´ë¦„ì˜ CSS -->
    <link rel="stylesheet" href="block3_vectors.css">
<style>
.zoom-controls button,
.zoom-controls input[type=range] {
  height: 32px;
  min-width: 34px;
  font-size: 20px;
  padding: 0 6px;
  vertical-align: middle;
  box-sizing: border-box;
  border-radius: 6px;
  border: 1px solid #444;
  margin: 0 1px;
  background: #333;
  color: #fff;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
}
.zoom-controls button:active {
  background: #111;
}
.zoom-controls button:focus {
  outline: 2px solid #6cf;
}
.zoom-controls #zoomPercent {
  min-width: 48px;
  font-size: 15px;
  text-align: center;
  display: inline-block;
  vertical-align: middle;
  color: #fff;
}
</style>
<style>
.canvas-wrapper {
  width: 700px;
  height: 600px;
  overflow: auto;
  border: 1px solid #ccc;
  margin: 0;
  background: #222;
}
</style>
</head>
<body>

    <div class="container">
        <div class="header">
            <h1>ğŸ¯ Douglas-Peucker ì•Œê³ ë¦¬ì¦˜ ì‹œê°í™”</h1>
            <p class="subtitle">ê²½ë¡œ ë‹¨ìˆœí™” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ íƒ€ì¼ ê²½ë¡œë¥¼ ìµœì í™”í•©ë‹ˆë‹¤</p>
        </div>
        
        <div class="content">
            <div class="controls">
                <div class="control-group">
                    <label>JSON ë°ì´í„° ì…ë ¥</label>
<textarea id="jsonInput">{
  "_schema": {
    "tiles": "ì „ì²´ íƒ€ì¼ ë°°ì—´ - ê° íƒ€ì¼ì€ {r: í–‰, c: ì—´, angle: ê°ë„, direction: ë°©í–¥}",
    "groups": "ê°™ì€ ë°©í–¥ì˜ íƒ€ì¼ ê·¸ë£¹ ë°°ì—´ - ê° ê·¸ë£¹ì€ ìœ ì‚¬í•œ ê°ë„ë¥¼ ê°€ì§„ íƒ€ì¼ë“¤ì˜ ëª¨ìŒ",
    "groups[].tiles": "ê·¸ë£¹ ë‚´ íƒ€ì¼ ì¸ë±ìŠ¤ ë°°ì—´",
    "groups[].avgAngle": "ê·¸ë£¹ì˜ í‰ê·  ê°ë„ (ë„ ë‹¨ìœ„, 0=ë™ìª½, 90=ë¶ìª½, 180=ì„œìª½, 270=ë‚¨ìª½)",
    "groups[].direction": "ê·¸ë£¹ì˜ ë°©í–¥ì„ ë‚˜íƒ€ë‚´ëŠ” í…ìŠ¤íŠ¸",
    "groups[].angles": "ê·¸ë£¹ ë‚´ ê° íƒ€ì¼ì˜ ê°œë³„ ê°ë„ ë°°ì—´",
    "metadata": "ë°ì´í„° ë©”íƒ€ì •ë³´ (íƒ€ì¼ ìˆ˜, ê·¸ë£¹ ìˆ˜, ìƒì„± ì‹œê°„ ë“±)"
  },
  "tiles": [
    {
      "r": 0,
      "c": 1
    },
    {
      "r": 2,
      "c": 3
    },
    {
      "r": 4,
      "c": 5
    },
    {
      "r": 6,
      "c": 7
    },
    {
      "r": 8,
      "c": 9
    },
    {
      "r": 10,
      "c": 11
    },
    {
      "r": 12,
      "c": 13
    },
    {
      "r": 14,
      "c": 14
    },
    {
      "r": 16,
      "c": 15
    },
    {
      "r": 18,
      "c": 16
    },
    {
      "r": 20,
      "c": 18
    },
    {
      "r": 22,
      "c": 20
    },
    {
      "r": 24,
      "c": 22
    },
    {
      "r": 26,
      "c": 24
    },
    {
      "r": 28,
      "c": 26
    },
    {
      "r": 30,
      "c": 24
    },
    {
      "r": 32,
      "c": 22
    },
    {
      "r": 34,
      "c": 20
    },
    {
      "r": 35,
      "c": 18
    },
    {
      "r": 36,
      "c": 16
    },
    {
      "r": 37,
      "c": 14
    },
    {
      "r": 38,
      "c": 12
    },
    {
      "r": 40,
      "c": 10
    },
    {
      "r": 41,
      "c": 12
    },
    {
      "r": 43,
      "c": 12
    },
    {
      "r": 45,
      "c": 12
    },
    {
      "r": 47,
      "c": 12
    },
    {
      "r": 49,
      "c": 12
    },
    {
      "r": 51,
      "c": 12
    },
    {
      "r": 53,
      "c": 11
    },
    {
      "r": 55,
      "c": 10
    }
  ],
  "groups": [
    {
      "tiles": [
        {
          "r": 0,
          "c": 1
        },
        {
          "r": 2,
          "c": 3
        },
        {
          "r": 4,
          "c": 5
        },
        {
          "r": 6,
          "c": 7
        },
        {
          "r": 8,
          "c": 9
        },
        {
          "r": 10,
          "c": 11
        },
        {
          "r": 12,
          "c": 13
        },
        {
          "r": 14,
          "c": 14
        },
        {
          "r": 16,
          "c": 15
        },
        {
          "r": 18,
          "c": 16
        },
        {
          "r": 20,
          "c": 18
        },
        {
          "r": 22,
          "c": 20
        },
        {
          "r": 24,
          "c": 22
        },
        {
          "r": 26,
          "c": 24
        },
        {
          "r": 28,
          "c": 26
        }
      ],
      "avgAngle": 311.04965382365964,
      "direction": "ë‚¨ë™ìª½ (Southeast, â†˜)",
      "angles": [
        315,
        315,
        315,
        315,
        315,
        315,
        296.565051177078,
        296.565051177078,
        296.565051177078,
        315,
        315,
        315,
        315,
        315
      ],
      "tileCount": 15
    },
    {
      "tiles": [
        {
          "r": 28,
          "c": 26
        },
        {
          "r": 30,
          "c": 24
        },
        {
          "r": 32,
          "c": 22
        },
        {
          "r": 34,
          "c": 20
        },
        {
          "r": 35,
          "c": 18
        },
        {
          "r": 36,
          "c": 16
        },
        {
          "r": 37,
          "c": 14
        },
        {
          "r": 38,
          "c": 12
        },
        {
          "r": 40,
          "c": 10
        }
      ],
      "avgAngle": 215.782525588539,
      "direction": "ë‚¨ì„œìª½ (Southwest, â†™)",
      "angles": [
        225,
        225,
        225,
        206.56505117707798,
        206.56505117707798,
        206.56505117707798,
        206.56505117707798,
        225
      ],
      "tileCount": 9
    },
    {
      "tiles": [
        {
          "r": 40,
          "c": 10
        },
        {
          "r": 41,
          "c": 12
        }
      ],
      "avgAngle": 333.434948822922,
      "direction": "ë‚¨ë™ìª½ (Southeast, â†˜)",
      "angles": [
        333.434948822922
      ],
      "tileCount": 2
    },
    {
      "tiles": [
        {
          "r": 41,
          "c": 12
        },
        {
          "r": 43,
          "c": 12
        },
        {
          "r": 45,
          "c": 12
        },
        {
          "r": 47,
          "c": 12
        },
        {
          "r": 49,
          "c": 12
        },
        {
          "r": 51,
          "c": 12
        },
        {
          "r": 53,
          "c": 11
        },
        {
          "r": 55,
          "c": 10
        }
      ],
      "avgAngle": 262.4099853779777,
      "direction": "ë‚¨ìª½ (South, â†“)",
      "angles": [
        270,
        270,
        270,
        270,
        270,
        243.43494882292202,
        243.43494882292202
      ],
      "tileCount": 8
    }
  ],
  "metadata": {
    "totalTiles": 31,
    "totalGroups": 4,
    "timestamp": "2025-12-26T02:52:09.432Z",
    "source": "Block Move Solver"
  }
}
</textarea>
                    <div id="error" class="error" style="display: none;"></div>
                </div>
                
                <div class="control-group" style="display: flex; align-items: center; gap: 10px;">
                    <div class="slider-container" style="margin-bottom:0;">
                        <div class="slider-label">
                            <label style="margin: 0;">Tolerance (í—ˆìš© ì˜¤ì°¨)</label>
                            <span class="slider-value" id="toleranceValue">2.0</span>
                        </div>
                        <div style="display:flex;align-items:center;gap:2px;">
                            <button id="bigTolDownBtn" type="button" style="min-width:28px;">â€“â€“</button>
                            <button id="tolDownBtn" type="button" style="min-width:28px;">ï¼</button>
                            <input type="range" id="tolerance" min="0" max="10" step="0.1" value="2" style="vertical-align:middle;">
                            <button id="tolUpBtn" type="button" style="min-width:28px;">ï¼‹</button>
                            <button id="bigTolUpBtn" type="button" style="min-width:28px;">++</button>
                        </div>
                    </div>
                    <div class="zoom-controls" style="display:flex;align-items:center;gap:4px;margin-bottom:0;">
                        <button id="bigZoomOutBtn" type="button">â€“â€“</button>
                        <button id="zoomOutBtn" type="button">ï¼</button>
<input type="range" id="zoomRange" min="5" max="100" step="5" value="60" style="width:110px;">
                        <span id="zoomPercent">100%</span>
                        <button id="zoomInBtn" type="button">ï¼‹</button>
                        <button id="bigZoomInBtn" type="button">++</button>
                    </div>
                </div>
                
                <div class="control-group">
                    <button onclick="visualize()">ì‹œê°í™” ìƒì„±</button>
                    <button id="copyDP" type="button">DP ê²°ê³¼ ë³µì‚¬</button>
                    <button id="alignPoints" type="button" style="background: linear-gradient(90deg, #ff0000 0%, #0000ff 100%); color: white; font-weight: bold;">1ë²ˆ(B) â†’ 0ë²ˆ(R) ìœ„ì¹˜ë¡œ ì´ë™</button>
                </div>
                
                <div class="control-group">
                    <label>ì €ì¥ëœ ê·¸ë£¹ ëª©ë¡</label>
                    <div id="groupList" style="max-height: 300px; overflow-y: auto; border: 1px solid #555; padding: 10px; border-radius: 4px; background: #2a2a2a;">
                        <p style="color: #aaa;">ì €ì¥ëœ ê·¸ë£¹ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
                
                <div class="stats" id="stats" style="display: none;">
                    <div class="stat-row">
                        <span class="stat-label">ì›ë³¸ í¬ì¸íŠ¸</span>
                        <span class="stat-value" id="originalPoints">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">ë‹¨ìˆœí™”ëœ í¬ì¸íŠ¸</span>
                        <span class="stat-value" id="simplifiedPoints">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">ê°ì†Œìœ¨</span>
                        <span class="stat-value" id="reduction">-</span>
                    </div>
                </div>
            </div>
            
            <div class="canvas-wrapper">
                <canvas id="canvas" width="800" height="600"></canvas>
            </div>
        </div>
    </div>

    <!-- ê°™ì€ ì´ë¦„ì˜ JS (body ëì— ë‘ëŠ” ê²ƒì„ ê¶Œì¥) -->
    <script src="block3_vectors.js"></script>
</body>
</html>
